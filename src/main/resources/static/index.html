<!doctype html>
<html class="no-js" lang="en">
<head>
  <meta charset="utf-8">
  <title>叼毛</title>
  <link rel="icon" href="./Icon/icon.jpg" type="image/x-icon">
  <link rel="stylesheet" href="./css/style.css">
  <link rel="stylesheet" href="./jQuery/Animation/jquery-ui.min.css">

  <link rel="stylesheet" href="./Bootstrap/bootstrap.min.css">
  <link rel="stylesheet" href="./Bootstrap/B-icon/bootstrap-icons.min.css">
  <style>
    /* 通知下拉面板 */
    #notify-panel {
      position: absolute;
      top: 100%;
      right: 0;
      width: 280px;
      max-height: 300px;
      overflow-y: auto;
      background: #fff;
      border: 1px solid #ddd;
      border-radius: .25rem;
      box-shadow: 0 2px 8px rgba(0,0,0,.1);
      display: none;
      z-index: 1000;
    }
    #notify-panel .item {
      padding: .5rem;
      border-bottom: 1px solid #eee;
    }
    #notify-panel .item.unread {
      background: #f5faff;
    }
    #notify-panel .item:last-child {
      border-bottom: none;
    }


    #kun{
      transform: scale(50%);
      /*transition: all 0.5s;*/
      opacity: 0;
    }
    #kun:hover{
      transform: scale(2) rotate(390deg);
    }
    #kai_shi{
      height: 400px;
      background-color: transparent;
      opacity: 0;
    }
    #biao_ti{
      transform: translate(0px, 100px);

    }
    .zhu_tou:not(:focus){
      transition: all 0.5s;
    }
    .zhu_tou:hover{
      transform: scale(2.1);
      transition: all 0.5s;
    }
    #home_name:hover{
      transition: all 0.5s;
      transform: scale(1.1);
    }
    #zhu_hang{
      transform: translate(0px, 60px);
    }
    .an{
      background-color: transparent;
      color: white;
      border-color: #cdbfe3;
      border-radius: 5px;
      font-weight: 400;
      padding: 12px 30px;
      font-size: 20px;
    }
    .an:hover{
      color: #0461be;
      background-color: white;
      border-color: white;
    }

    /*注册框旋转动画*/
    #zhu_biao {
      display: inline-block;
      transform-origin: center;
    }
    @keyframes rotate-animation {
      from { transform: rotate(0deg); }
      to { transform: rotate(360deg); }
    }
    #zhu_biao.animate {
      animation: rotate-animation 0.5s ease-in-out;
    }

    #kuai_1:hover{
      transition: all 0.2s !important;
      z-index: 114514;
      transform: translateY(-30px) scale(1.05) !important;
    }
    #kuai_2:hover{
      transition: all 0.2s !important;
      z-index: 114514;
      transform: translateY(-60px) scale(1.05) !important;
    }
    #kuai_3:hover{
      transition: all 0.2s !important;
      z-index: 114514;
      transform: translateY(-10px) scale(1.05) !important;
    }

    /* —— 只改半圆的朝向 —— */
    #kuai_1 {
      position: relative;
      overflow: visible;
    }

    #kuai_1 #kuai_t {
      top: calc(50% - 75px) !important;
      left: -48px !important;  /* 往左再推一点 */
      transform: rotate(-360deg) !important;
      transform-origin: center center !important;
      transition: left 0.3s ease, transform 0.3s ease !important;
    }


    #kuai_1:hover #kuai_t {
      left: -90px !important;  /* hover 时继续突一点 */
    }








  </style>

</head>
<body tabindex="0">
<!--导航栏-->
<nav class="navbar navbar-expand-lg navbar-light bg-light fixed-top" id="navbar">
  <div class="container">
    <!-- Brand + 折叠按钮 -->
    <a class="navbar-brand d-flex align-items-center" href="/wocao/index.html">
      <img src="Icon/icon.jpg" width="40" height="40" class="rounded me-2 zhu_tou" alt="头像1">
      <img src="Icon/tou2.jpg" width="40" height="40" class="rounded me-2 zhu_tou" alt="头像2">
      <span class="lead">在线聊天室</span>
    </a>

    <button class="navbar-toggler" type="button"
            data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false"
            aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <!-- 折叠内容 -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">

      <!-- 左侧：Home / Link / 通知 -->
      <ul class="navbar-nav">
        <li class="nav-item" id="nav-home">
          <a class="nav-link" href="javascript:;">Home</a>
        </li>

        <li class="nav-item">
          <!-- “Link” 保持你自己想要的 href，就不会被拦截 -->
          <a class="nav-link" href="https://www.google.com" target="_blank">Link</a>
        </li>
        <li class="nav-item position-relative" id="nav-notify">
          <button class="btn nav-link p-0" id="btn-notify" title="通知">
            <i class="bi bi-bell-fill"></i>
            <span class="badge bg-danger position-absolute top-0 start-100 translate-middle"
                  id="notify-badge" style="display:none">0</span>
          </button>
          <div id="notify-panel"></div>
        </li>
      </ul>

      <!-- 右侧：Login / Register -->
      <ul class="navbar-nav ms-auto">
        <li class="nav-item me-2">
          <button class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#login">
            Login
          </button>
        </li>
        <li class="nav-item">
          <button class="btn btn-info" data-bs-toggle="modal" data-bs-target="#register">
            Register
          </button>
        </li>
      </ul>

    </div>
  </div>
</nav>




<!--开头标题-->
<div class="container-fluid" id="zhu_hang">
  <div class="row" id="kai_shi">
    <div class="col-md-1"></div>
    <div class="col-md-8" id="biao_ti">
      <div class="jumbotron" style="width: 60%;">
        <!-- 改成你的励志标题 -->
        <h1 class="display-4">Rise and Shine</h1>

        <!-- 第一段励志文案 -->
        <p class="lead">
          Every sunrise is an invitation to brighten someone’s day. Embrace the challenge, trust your journey,
          and let your courage light the path ahead.
        </p>

        <hr class="my-4">

        <!-- 第二段补充文案 -->
        <p>
          Continue to push your limits, learn from every setback, and remember: the only limits that exist
          are the ones you place on yourself.
        </p>

        <!-- 原来的按钮保持不变 -->
        <a class="btn btn-outline-inverse btn-lg an active" href="chat.html">Join us</a>


        <a class="btn btn-primary btn-lg" href="#" data-bs-toggle="modal" data-bs-target="#learnMoreModal">
          Learn more
        </a>



      </div>
      <!-- Learn More Modal -->
      <div class="modal fade"
           id="learnMoreModal"
           data-bs-backdrop="false"
           data-bs-keyboard="true"
           tabindex="-1"
           aria-labelledby="learnMoreLabel"
           aria-hidden="true">
        <div class="modal-dialog modal-lg">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title" id="learnMoreLabel">About Our Chat</h5>
              <button type="button"
                      class="btn-close"
                      data-bs-dismiss="modal"
                      aria-label="Close">
              </button>
            </div>
            <div class="modal-body">
              <p>Welcome to our online chatroom! Here you can...</p>
              <ul>
                <li>Create or join group chats to discuss together</li>
                <li>Use emojis and transfer files</li>
                <li>Enjoy real-time notifications and management features</li>
              </ul>

              </ul>
            </div>
          </div>
        </div>
      </div>



      <!--
      <h1 class="">聊天室</h1>
      <h3 class="lead">666</h3>

      -->

    </div>
    <div class="col-md-3">
      <img src="img/7.jpg" class="img-fluid img rounded d-inline" id="kun" alt="抽象艺术" style="display: inline-block;">
      <img src="img/doge.png" class="img-fluid img rounded d-inline"  alt="抽象艺术" style="display: inline-block;">
      <div class="container ">

      </div>
    </div>
  </div>
  <div class="row curved-blocks" style="height: 100%;">

  <div class="col-md-1"></div>
    <div class="col-md-2" style="background: #8ebaff; height: 300px; transform: translateY(0px); transition: all .2s ease-in-out; opacity: 0; position: relative" id="kuai_1">
      <div style="
      width: 100%;height: 150px;background: #e74c3c;border-top-left-radius: 200px;border-top-right-radius: 200px;rotate: 90deg; position: absolute; display: inline; top: 90px; left: -90px;
      " id="kuai_t"></div>
      <h3 class="display-1" style="margin: 20px;"></h3>
      <p class="lead"></p>
    </div>
    <div class="col-md-2" style="background: #103d80; height: 300px; transform: translateY(-30px); transition: all .2s ease-in-out; opacity: 0;" id="kuai_2">
      <h3 class="display-1" style="margin: 20px;"></h3>
      <p class="lead"></p>
    </div>
    <div class="col-md-2" style="background: #162742; height: 300px; transform: translateY(20px); transition: all .2s ease-in-out; opacity: 0;" id="kuai_3">
      <h3 class="display-1" style="margin: 20px;"></h3>
      <p class="lead"></p>
    </div>
    <div class="col-md-5"></div>
  </div>
</div>

<!--登录模态框-->
<div class="modal fade" id="login" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">Login</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <!--
      <form class="form-group" id="deng_ti">
        <div class="modal-body">
          <div class="form-group">
            <label for="name_d">用户名</label>
            <input type="text" class="form-control" id="name_d" aria-describedby="emailHelp" name="name">
          </div>
          <div class="form-group">
            <label for="pass_d">密码</label>
            <input type="password" class="form-control" id="pass_d" aria-describedby="emailHelp" name="pass">
          </div>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
          <button type="submit" class="btn btn-primary">Submit</button>
        </div>
      </form>
      -->
      <h1>发送消息到 MySQL</h1>
      <form id="deng_ti" class="form-group">

        <div class="modal-body">
          <div class="form-group">
            <label for="name_d">用户名</label>
            <input type="text" class="form-control" id="name_d" aria-describedby="emailHelp" name="username">
          </div>
          <div class="form-group">
            <label for="pass_d">密码</label>
            <input type="password" class="form-control" id="pass_d" aria-describedby="emailHelp" name="content">
          </div>
        </div>




        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
          <button type="submit" class="btn btn-primary">Submit</button>
        </div>


        <!--
        <label>
          用户名：
          <input type="text" name="username" required />
        </label><br><br>
        <label>
          内容：
          <textarea name="content" rows="4" cols="40" required></textarea>
        </label><br><br>
        <button type="submit">提交</button>
        -->
      </form>

      <pre id="result"></pre>

    </div>
  </div>
</div>






<!--注册模态框-->
<div class="modal fade" id="register" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-lg">
    <div class="modal-content container">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">
          Register
          <i class="bi bi-clipboard-plus-fill" id="zhu_biao"></i>
        </h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <form class="form needs-validation" id="zhu_ti" novalidate>
        <div class="modal-body">
          <div class="form-group mb-3">
            <label for="name_z" class="form-label">
              Username
            </label>
            <input type="text" class="form-control" id="name_z" aria-describedby="emailHelp" name="username" placeholder="King of Fall Resistance" required>
            <div class="form-text">
              Your gorgeous name
            </div>
            <div class="invalid-feedback">
              <i class="bi bi-x"></i>
              Bad boy, no blank
            </div>
            <div class="valid-feedback">
              <i class="bi bi-check-lg"></i>
              Good boy!
            </div>
          </div>
          <div class="form-group mb-3">
            <label for="pass_z" class="form-label">
              Password
            </label>
            <input type="password" class="form-control" id="pass_z" aria-describedby="emailHelp" name="password" required>
            <div class="form-text">
              Poor password
            </div>
            <div class="invalid-feedback">
              <i class="bi bi-x"></i>
              Bad boy, no blank
            </div>
            <div class="valid-feedback">
              <i class="bi bi-check-lg"></i>
              Good boy!
            </div>
          </div>
          <div class="form-group mb-3">
            <label for="" class="form-label">Your gender:</label>
            <div class="form-check" >
              <input type="radio" class="form-check-input" id="male_z" aria-describedby="emailHelp" name="gender" value="male">
              <label for="male_z" class="form-check-label">
                I'm a <i>Male</i>
              </label>
            </div>
            <div class="form-check">
              <input type="radio" class="form-check-input" id="female_z" aria-describedby="emailHelp" name="gender" value="female">
              <label for="female_z" class="form-check-label">
                I'm a <i>Female</i>
              </label>
            </div>
            <div class="form-check">
              <input type="radio" class="form-check-input" id="walmart_bag_z" aria-describedby="emailHelp" name="gender" value="walmart_bag" checked>
              <label for="walmart_bag_z" class="form-check-label">
                I'm a <i>Walmart Bag</i>~
              </label>
            </div>
            <div class="form-check">
              <input type="radio" class="form-check-input" id="ti_z" aria-describedby="emailHelp" name="gender" value="thailand">
              <label for="ti_z" class="form-check-label">
                I went to Thailand~
              </label>
            </div>
          </div>
          <div class="form-group mb-3">
            <label for="age_z" class="form-label">
              Ages
            </label>
            <input type="range" class="form-range" min="0" max="200" step="1" value="100" id="age_z" name="age">
            <div class="form-text" id="age_label">
              Your age are: 100
            </div>
          </div>
          <div class="form-group mb-3">
            <label for="des" class="form-label">
              Comment to yourself
            </label>
            <textarea class="form-control" rows="3" id="des" name="comment" placeholder="I'm a good person" required></textarea>
            <div class="invalid-feedback">
              <i class="bi bi-x"></i>
              Bad boy, no blank
            </div>
            <div class="valid-feedback">
              <i class="bi bi-check-lg"></i>
              Good boy!
            </div>
          </div>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">
            Cancel
            <i class="bi bi-backspace-reverse"></i>
          </button>
          <button type="submit" class="btn btn-primary">
            <span class="spinner-border spinner-border-sm" role="status" aria-hidden="true" style="display: none;" id="spin_z"></span>
            Submit
            <i class="bi bi-check2-circle"></i>
          </button>
        </div>
      </form>
    </div>
  </div>
</div>


<!--
<div class="embed-responsive embed-responsive-16by9">
  <iframe class="embed-responsive-item" src="https://www.youtube.com/embed/zpOULjyy-n8?rel=0" allowfullscreen></iframe>
</div>
-->








<script>
  /*
  document.getElementById('zhu_ti').addEventListener('submit', async function(e) {

  });

   */
</script>









<div id="trail-container"></div>
<div style="height: 10000px"></div>

<script src="./jQuery/jquery-3.7.1.min.js"></script>
<script src="./jQuery/Animation/jquery-ui.min.js"></script>
<script src="./Bootstrap/bootstrap.bundle.min.js"></script>
<script>

</script>

<script src="./js/xiao_guo.js"></script>
<script src="./js/submit.js"></script>
<script src="./js/animation.js"></script>

<script>
  (function () {
    'use strict';
    var forms = document.querySelectorAll('.needs-validation');
    Array.prototype.slice.call(forms).forEach(function (form) {
      form.addEventListener('submit', async function (event) {

        if (!form.checkValidity()) {
          event.preventDefault();
          event.stopPropagation();
          console.log('非法表单');
        }
        else{
          $('#spin_z').css('display', 'inline-block');

          event.preventDefault();
          const form = event.target;
          const data = new URLSearchParams(new FormData(form));
          const resp = await fetch('/submit', {
            method: 'POST',
            body: data
          });
          document.getElementById('result').textContent = await resp.text();
          form.reset();
          console.log('合法表单');
          window.location.assign('./lobby/lobby.html');
        }

        form.classList.add('was-validated');
      }, false);
    });
  })();
  // 通知角标示例：假设通过 WebSocket 或 AJAX 来更新未读数
  function updateNotifyCount(n) {
    const badge = document.getElementById('notify-badge');
    if (n > 0) {
      badge.textContent = n;
      badge.style.display = 'inline-block';
    } else {
      badge.style.display = 'none';
    }
  }

  // 示例：5 秒后模拟有 3 条新通知
  setTimeout(() => updateNotifyCount(3), 5000);


  $(function(){
    const $panel = $('#notify-panel');
    const $badge = $('#notify-badge');
    let unread = 0;

    // 点击铃铛，切换面板显示/隐藏
    $('#btn-notify').on('click', function(e){
      e.stopPropagation();
      $panel.toggle();
      if ($panel.is(':visible')) {
        // 打开时标记所有为已读
        $panel.find('.item.unread').removeClass('unread');
        unread = 0;
        $badge.hide();
      }
    });

    // 点击页面任意其他地方，隐藏面板
    $(document).on('click', function(){
      $panel.hide();
    });

    // 模拟接收新消息：2秒后弹一条通知
    setTimeout(function(){
      const $item = $(`
        <div class="item unread">
          <strong>系统</strong>
          <p>你有一条新消息！</p>
          <small class="text-muted">刚刚</small>
        </div>
      `);
      $panel.prepend($item);
      unread++;
      $badge.text(unread).show();
    }, 2000);

    // —— 如果你有真实 WebSocket，把上面 setTimeout 换成：
    // const ws = new WebSocket('wss://你的服务器地址/ws');
    // ws.onmessage = evt => {
    //   const msg = JSON.parse(evt.data);
    //   const $item = $(`
    //     <div class="item unread">
    //       <strong>${msg.from}</strong>
    //       <p>${msg.text}</p>
    //       <small class="text-muted">${msg.time}</small>
    //     </div>
    //   `);
    //   $panel.prepend($item);
    //   unread++;
    //   $badge.text(unread).show();
    // };
  });
  // 等页面及第三方脚本都加载完再执行
  (function() {
    // 拿到 #nav-home 下的链接
    var homeLink = document.querySelector('#nav-home .nav-link');
    if (!homeLink) return;

    homeLink.addEventListener('click', function(e) {
      // 阻止默认的 href 行为
      e.preventDefault();
      // 刷新页面
      window.location.reload();
    });
  })();

  (function(){
    var home = document.getElementById('homeLink');
    if (!home) return;
    home.addEventListener('click', function(e){
      // 1. 阻止浏览器处理 href="#" 的默认滚动
      // 2. 防止冒泡
      e.preventDefault();
      e.stopPropagation();
      // 刷新页面
      window.location.reload();
    });
  })();

  $(function(){
    $('#deng_ti').on('submit', function(e){
      e.preventDefault();
      // …校验用户名/密码…
      window.location.href = 'lobby.html';  // 跳到大厅
    });
  });

</script>



</body>
</html>
